/* public/css/trademark-search.css (Final: Belirgin Kartlar & Grup Başlığı) */

/* ============================================================
   1. GENEL AYARLAR
   ============================================================ */
body, .page-wrapper {
    background: #f4f6f9 !important; /* Arka planı hafif gri yaptık ki kartlar patlasın */
}

.monitoring-table,
.search-results-table,
.nested-table {
    width: 100%;
    table-layout: fixed !important;
    border-collapse: collapse;
}

/* Hücre Genel */
.monitoring-table th, .monitoring-table td,
.search-results-table th, .search-results-table td,
.nested-table th, .nested-table td {
    padding: 8px 5px !important;
    vertical-align: middle !important;
    border-bottom: 1px solid #dee2e6;
    position: relative !important;
}

/* Ana başlıklar */
.monitoring-table thead th,
.search-results-table thead th {
    background-color: #f8f9fa !important;
    color: #1e3c72 !important;
    font-weight: 700 !important;
    font-size: 14px !important;
    text-align: center !important;
}

/* ============================================================
   2. İZLENEN MARKALAR (ANA TABLO)
   ============================================================ */
#monitoringTable th:nth-child(1), #monitoringTable td:nth-child(1) { width: 40px !important; text-align: center !important; }
#monitoringTable th:nth-child(2), #monitoringTable td:nth-child(2) { text-align: left !important; padding-left: 15px !important; }
#monitoringTable th:nth-child(3), #monitoringTable td:nth-child(3) { width: 100px !important; text-align: center; }
#monitoringTable th:nth-child(4), #monitoringTable td:nth-child(4) { width: 110px !important; text-align: center; }
#monitoringTable th:nth-child(5), #monitoringTable td:nth-child(5) { width: 120px !important; text-align: center; }
#monitoringTable th:nth-child(6), #monitoringTable td:nth-child(6) { width: 280px !important; text-align: center; }

/* ============================================================
   3. ACCORDION İÇ TABLO (İZLENENLER DETAY)
   ============================================================ */
.nested-table { width: 100% !important; margin: 0 !important; background: #fff; }
.nested-table thead th {
    background-color: #f1f3f5 !important; color: #495057 !important; font-size: 13px !important;
    text-align: left !important; padding-left: 8px !important;
}
.nested-table td { text-align: left !important; }

/* Kolonlar */
.td-nested-toggle { width: 26px !important; padding: 0 !important; }
.col-nest-img, .td-nested-img { width: 90px !important; padding: 4px !important; }
.col-nest-name, .td-nested-name { width: 35% !important; font-weight: 600; color: #1e3c72; padding-left: 8px !important; }
.col-nest-appno, .td-nested-appno { width: 15% !important; white-space: nowrap; }
.col-nest-nice, .td-nested-nice { width: auto !important; font-size: 13px; line-height: 1.4; }
.col-nest-date, .td-nested-date { width: 12% !important; white-space: nowrap; }

/* ============================================================
   4. ARAMA SONUÇLARI TABLOSU
   ============================================================ */
#searchResultsTable th:nth-child(1), #searchResultsTable td:nth-child(1) { width: 50px; text-align: center; }
#searchResultsTable th:nth-child(2), #searchResultsTable td:nth-child(2) { width: 90px; text-align: center; }
#searchResultsTable th:nth-child(3), #searchResultsTable td:nth-child(3) { width: 170px !important; text-align: center; padding: 5px !important; overflow: visible !important; }
#searchResultsTable th:nth-child(4), #searchResultsTable td:nth-child(4) { width: 15%; font-weight: 700; color: #1e3c72; }
#searchResultsTable th:nth-child(5), #searchResultsTable td:nth-child(5) { width: 20%; }
#searchResultsTable th:nth-child(6), #searchResultsTable td:nth-child(6) { width: 10%; }
#searchResultsTable th:nth-child(7), #searchResultsTable td:nth-child(7) { width: 100px; }
#searchResultsTable th:nth-child(8), #searchResultsTable td:nth-child(8) { width: 80px; text-align: center; }
#searchResultsTable th:nth-child(9), #searchResultsTable td:nth-child(9) { width: 70px; }
#searchResultsTable th:nth-child(10), #searchResultsTable td:nth-child(10) { width: 80px; }

/* --- GRUP BAŞLIĞI (MONITORED TRADEMARK ROW) --- */
/* Bu kısım arama sonuçlarında "Hangi marka için sonuçlar?" satırını düzenler */

tr.group-header td {
    background-color: #e3f2fd !important; /* Arka plan: Açık Mavi */
    border-top: 2px solid #1976d2 !important; /* Üst Çizgi: Koyu Mavi */
    border-bottom: 1px solid #bbdefb !important;
    padding: 10px 15px !important;
    text-align: left !important; /* Sola Yasla */
}

.group-title {
    display: flex;
    align-items: center;
    justify-content: flex-start; /* İçeriği Sola Yasla */
    gap: 15px; /* Görsel ile yazı arası boşluk */
    font-size: 1.1rem;
    color: #0d47a1;
}

/* Grup Başlığındaki Görsel */
.group-trademark-image .tm-img-box-sm {
    width: 50px !important;
    height: 50px !important;
    margin: 0 !important;
    border: 1px solid #1976d2;
    background: #fff;
}

/* Başlık Metni */
.group-title span {
    font-weight: 500;
}
.group-title strong {
    font-weight: 700;
    text-decoration: underline;
}

/* ============================================================
   5. GÖRSELLER VE KUTULAR
   ============================================================ */
/* Genel Kutu - Varsayılan Güvenlik Önlemi */
.tm-img-box {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    background: #fff !important;
    border: 1px solid #dee2e6 !important;
    border-radius: 6px !important;
    position: relative !important;
    z-index: 1;
    overflow: visible !important;
    
    /* GÜVENLİK: Eğer özel boyut sınıfı yoksa bile taşmayı engelle */
    width: 80px; 
    height: 80px;
    max-width: 100% !important;
}

/* 1. Küçük Kutu (İzlenenler & Grup Başlıkları) */
.tm-img-box-sm, 
.td-nested-img .tm-img-box,
.group-trademark-image .tm-img-box {
    width: 60px !important;
    height: 60px !important;
    min-width: 60px !important; /* Daralmayı önle */
    margin: 0 !important; /* Sola yaslı */
}

/* 2. Büyük Kutu (Arama Sonuçları Listesi) */
.tm-img-box-lg {
    width: 100px !important; /* 150px'den 100px'e düşürüldü */
    height: 100px !important;
    min-width: 100px !important;
    margin: 0 auto !important; /* Ortala */
}

/* Resimlerin Kendisi (Asla Kutudan Taşamaz) */
.tm-img-box img {
    width: 100% !important;
    height: 100% !important;
    object-fit: contain !important;
    display: block !important;
    background: #fff !important;
    border-radius: 4px !important;
    max-width: 100% !important; /* Ekstra güvenlik */
}

/* --- HOVER EFEKTLERİ (BÜYÜME) --- */

.tm-img-box:hover {
    z-index: 99999 !important;
    border-color: #1e3c72 !important;
}

/* 1. Accordion & Grup Başlığı Hover (Sağa Açılır) */
.tm-img-box-sm:hover img,
.td-nested-img .tm-img-box:hover img,
.group-trademark-image .tm-img-box:hover img {
    position: absolute !important;
    top: 50% !important;
    left: 70px !important; /* Kutunun sağından başla */
    transform: translateY(-50%) !important;
    
    /* Büyüme Boyutu */
    width: 200px !important;
    height: 200px !important;
    max-width: none !important; /* Kutudan taşmasına izin ver */
    
    background: #fff !important;
    border: 3px solid #1e3c72 !important;
    box-shadow: 0 10px 40px rgba(0,0,0,0.3) !important;
    border-radius: 8px !important;
    z-index: 100000 !important;
}

/* 2. Arama Sonuçları Hover (Ortadan Sağa/Üste Açılır) */
.tm-img-box-lg:hover img {
    position: absolute !important;
    top: -50px !important;
    left: 80% !important; /* Sağ tarafa doğru açıl */
    
    /* Büyüme Boyutu */
    width: 300px !important;
    height: 300px !important;
    max-width: none !important;
    
    background: #fff !important;
    border: 3px solid #1e3c72 !important;
    box-shadow: 0 15px 50px rgba(0,0,0,0.5) !important;
    border-radius: 8px !important;
    z-index: 100000 !important;
}

/* ============================================================
   6. DİĞER BİLEŞENLER
   ============================================================ */
.nice-class-badge {
    display: inline-block; padding: 2px 6px; border-radius: 4px; font-size: 0.85em; margin: 1px;
    border: 1px solid #dee2e6; background-color: #f8f9fa; color: #333;
}
.nice-class-badge.match { background-color: #28a745 !important; color: white !important; border-color: #28a745 !important; }
.nice-class-badge.partial-match { background-color: #ffc107 !important; color: #212529 !important; border-color: #ffc107 !important; font-weight: 600; }

.action-btn { padding: 4px 10px; border-radius: 4px; font-size: 0.9em; cursor: pointer; transition: all 0.2s; border: 1px solid transparent; }
.action-btn.similar { background-color: #28a745 !important; color: white !important; border-color: #28a745 !important; }
.action-btn.similar:hover { background-color: #218838 !important; }
.action-btn.not-similar { background-color: #dc3545 !important; color: white !important; border-color: #dc3545 !important; }
.action-btn.not-similar:hover { background-color: #c82333 !important; }

.owner-row { cursor: pointer; }
.owner-row:hover { background-color: #e9ecef !important; }
.trigger-ready { background-color: #fff3cd; color: #856404; padding: 4px 12px; border-radius: 12px; font-weight: 600; }
.trigger-yes { background-color: #d4edda; color: #155724; padding: 4px 12px; border-radius: 12px; font-weight: 600; }
.tm-placeholder { font-size: 12px; color: #999; text-align: center; }

@media (min-width: 992px) { .modal-full-width { max-width: 95vw !important; width: 95vw !important; margin: 10px auto !important; } }

/* ============================================================
   7. KART TASARIMI (DAHA BELİRGİN)
   ============================================================ */
.tm-section-card {
    background: #ffffff;
    border: 1px solid #d1d9e6; /* Kenarlık biraz daha koyu */
    border-radius: 12px;
    /* Daha derin ve belirgin gölge */
    box-shadow: 0 10px 30px rgba(30, 60, 114, 0.1); 
    margin-bottom: 35px;
    overflow: hidden;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.tm-section-card:hover {
    /* Hover durumunda hafif yukarı kalkma efekti */
    transform: translateY(-2px);
    box-shadow: 0 15px 35px rgba(30, 60, 114, 0.15);
}

.tm-card-header {
    padding: 15px 25px;
    border-bottom: 1px solid #eaedf2;
    background: linear-gradient(to right, #ffffff, #f8f9fa); /* Hafif gradyan */
    display: flex; justify-content: space-between; align-items: center;
}

.tm-card-header h5 {
    margin: 0; color: #1e3c72; font-weight: 700; font-size: 1.15rem;
    display: flex; align-items: center; gap: 10px;
}

.tm-card-body { padding: 25px; }
.tm-card-body.p-0 { padding: 0 !important; }

/* Eski stilleri temizle */
.portfolio-table-container, .results-container {
    box-shadow: none !important; border: none !important; background: transparent !important;
}