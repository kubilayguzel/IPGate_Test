/* Genel Reset */
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; color: #333; display: flex; }

/* Sayfa Yapısı */
.page-wrapper { flex-grow: 1; display: flex; flex-direction: column; height: 100vh; overflow-y: auto; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); }
.main-container { width: 100%; padding: 30px; padding-top: 120px; }
.page-header { background: rgba(255,255,255,0.95); padding: 30px; border-radius: 20px; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
.page-title {font-size: 2em; color: #1e3c72; margin-bottom: 10px;}
.page-subtitle { color: #666; font-size: 1.1em; }
.form-container { background: rgba(255,255,255,0.95); padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
.form-section { border-bottom: 1px solid #e1e8ed; padding-bottom: 25px; margin-bottom: 25px; }
.form-section:last-child { border-bottom: none; }
.section-title { font-size: 1.3em; color: #1e3c72; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; }
.form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; }
.form-group { display: flex; flex-direction: column; }
.form-group.full-width { grid-column: 1 / -1; }
.form-label { margin-bottom: 8px; font-weight: 500; color: #333; }
.form-input, .form-select, .form-textarea { width: 100%; padding: 12px 15px; border: 2px solid #e1e8ed; border-radius: 10px; font-size: 1em; transition: all 0.3s ease; background: #fff; }

/* Nav Tabs */
.nav-tabs { border-bottom: 2px solid #e9ecef; margin-bottom: 1.5rem; }
.nav-tabs .nav-link { border: none; color: #495057; font-weight: 600; font-size: 1.1rem; padding: 12px 20px; transition: all 0.3s ease; }
.nav-tabs .nav-link.active { background-color: #fff; color: #1e3c72; border-radius: 0; border-color: #dee2e6 #dee2e6 #fff; box-shadow: none; }
.nav-tabs .nav-link:hover:not(.active) { background-color: #f8f9fa; border-radius: 0; }
.tab-content-card { padding: 1.5rem; border: 1px solid #dee2e6; border-top: none; border-bottom-left-radius: 0.25rem; border-bottom-right-radius: 0.25rem; background-color: #fff; box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.05); }

/* --- NICE CLASSIFICATION PANELLERİ (DÜZELTİLDİ) --- */
.nice-classification-container { background: #f8f9fa; border-radius: 10px; padding: 20px; margin-top: 15px; }

/* Panel Ana Çerçevesi (Beyaz Arka Plan) */
.classification-panel, .selected-classes-panel { 
    background: #ffffff; /* Mavi yerine Beyaz */
    border-radius: 10px; 
    overflow: hidden; 
    margin-bottom: 15px; 
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    border: 1px solid #e1e8ed;
}

/* Sadece Header Kısmı Mavi */
.classification-panel .panel-header, 
.selected-classes-panel .panel-header { 
    background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); 
    color: white; 
    padding: 15px 20px; 
    text-align: center; 
}

.panel-header h5 { color: white !important; margin: 0; font-size: 1.2rem; font-weight: 600; }
.panel-header small { color: rgba(255,255,255,0.8) !important; display: block; margin-top: 5px; }

/* Arama ve Liste Alanları */
.search-section { padding: 15px 20px; background: #fff; border-bottom: 1px solid #e1e8ed; }
.search-section .input-group { border-radius: 8px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
.search-section .form-control { border: 1px solid #e1e8ed; padding: 10px 15px; }

/* Listeler */
.classes-list { background: #fff; max-height: 400px; overflow-y: auto; padding: 0; }
.scrollable-list { background: #fff; max-height: 700px; overflow-y: auto; padding: 15px; }

/* Yazı Renklerini Garantiye Al */
.selected-classes-content, #selectedNiceClasses {
    color: #333 !important;
}

/* Scrollbar */
.classes-list::-webkit-scrollbar, .scrollable-list::-webkit-scrollbar { width: 8px; }
.classes-list::-webkit-scrollbar-track { background: #f1f1f1; }
.classes-list::-webkit-scrollbar-thumb { background: #c1c1c1; border-radius: 4px; }
.classes-list::-webkit-scrollbar-thumb:hover { background: #a8a8a8; }

/* Buttons */
.btn { padding: 12px 25px; border: none; border-radius: 8px; font-size: 1em; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: inline-flex; align-items: center; gap: 8px; }
.btn-primary { background: linear-gradient(45deg, #1e3c72, #2a5298); color: #fff; border: none; }
.btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(30, 60, 114, 0.3); color: #fff; text-decoration: none; }
.btn-primary:disabled { background: #ccc; transform: none; box-shadow: none; cursor: not-allowed; }
.btn-secondary { background: #6c757d; color: #fff; }
.btn-secondary:hover { background: #545b62; color: #fff; text-decoration: none; }
.btn-outline-light { border-color: rgba(255,255,255,0.3); color: white; }
.btn-outline-light:hover { background-color: rgba(255,255,255,0.1); border-color: rgba(255,255,255,0.5); color: white; }
.btn-add-person { background: linear-gradient(45deg, #28a745, #34ce57); color: white; border: none; padding: 8px 16px; border-radius: 8px; cursor: pointer; font-size: 0.9em; font-weight: 600; transition: all 0.3s ease; display: flex; align-items: center; gap: 5px; }
.btn-add-person:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3); color: white; text-decoration: none; }
.btn-small { padding: 6px 12px; font-size: 0.85em; }
.form-actions { display: flex; justify-content: flex-end; gap: 15px; margin-top: 30px; padding-top: 20px; border-top: 1px solid #e1e8ed; }

/* Search & Selected Items */
.search-input-wrapper { position: relative; width: 100%; }
.search-input { width: 100%; padding: 12px 15px; border: 2px solid #e1e8ed; border-radius: 10px; font-size: 1em; transition: all 0.3s ease; background: #fff; }
.search-input:focus { border-color: #1e3c72; outline: none; box-shadow: 0 0 0 3px rgba(30, 60, 114, 0.1); }
.selected-items-container { margin-top: 15px; }
.selected-item { background: #e7f3ff; border: 1px solid #a7d9ff; border-radius: 0.25rem; padding: 8px 12px; margin-bottom: 8px; display: flex; justify-content: space-between; align-items: center; font-size: 0.95rem; color: #343a40; }
.selected-item .remove-selected-item-btn { background: none; border: none; color: #dc3545; font-size: 1.2rem; cursor: pointer; padding: 0 5px; transition: color 0.2s ease; }
.selected-item .remove-selected-item-btn:hover { color: #c82333; }
.search-results-list { position: absolute; top: calc(100% + 4px); left: 0; right: 0; z-index: 1050; max-height: 240px; overflow-y: auto; border: 1px solid #ced4da; border-top: none; border-bottom-left-radius: .25rem; border-bottom-right-radius: .25rem; background-color: #fff; box-shadow: 0 2px 8px rgba(0,0,0,.08); }
.search-result-item { padding: 10px 15px; cursor: pointer; border-bottom: 1px solid #eee; transition: background-color 0.2s ease; }
.search-result-item:hover { background-color: #f0f0f0; }
.search-result-item:last-child { border-bottom: none; }
.no-results-message { padding: 15px; color: #6c757d; text-align: center; }

/* Modals */
.modal { z-index: 1055 !important; }
.modal-backdrop.show { z-index: 1050 !important; }

/* Nice Class Items */
.selected-class-item { background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 8px; padding: 8px 12px; margin-bottom: 8px; position: relative; transition: .2s; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
.selected-class-item:hover { box-shadow: 0 2px 6px rgba(0,0,0,0.15); }
.selected-class-item.custom { background: linear-gradient(135deg,#fff5f5 0%,#fed7d7 100%); border-color: #feb2b2; }
.selected-class-number { font-weight: 600; font-size: 13px; color: #495057; margin-bottom: 2px; line-height: 1.2; }
.selected-class-item.custom .selected-class-number { color: #dc3545; font-weight: 700; }
.selected-class-description { font-size: 12px; color: #6c757d; padding-right: 30px; margin: 0; line-height: 1.3; }
.remove-selected-btn { position: absolute; top: 6px; right: 8px; background: #dc3545; color: #fff; border: none; width: 20px; height: 20px; border-radius: 50%; font-size: 12px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: .2s; opacity: 0.7; }
.remove-selected-btn:hover { background: #c82333; transform: scale(1.1); }

/* Diğer Öğeler */
.brand-upload-frame { border: 2px dashed #a0a7b0; border-radius: 0.5rem; background-color: #f8f9fa; padding: 1rem; transition: background-color 0.2s ease, border-color 0.2s ease; text-align: center; }
.brand-upload-frame:hover { background-color: #e9ecef; border-color: #6c757d; }
.custom-class-frame { background-color: #fff; border: 2px dashed #ffc107; border-radius: 8px; padding: 15px; margin-top: 15px; box-shadow: 0 2px 6px rgba(0,0,0,0.05); }
.custom-class-section { margin: 0; }
.custom-class-section textarea { height: 80px !important; resize: vertical; }
.collapse { display: none; }
.collapse.show { display: block; }
[id^="subclasses-"] { display: none; }
[id^="subclasses-"].show { display: block; }
.class-header { padding: 15px; border-bottom: 1px solid #eee; cursor: pointer; transition: all 0.3s ease; display: flex; justify-content: space-between; align-items: center; background-color: #fff; color: #333; position: relative; }
.class-header:hover { background-color: #f8f9fa; }
.class-header-content { display: flex; align-items: center; flex: 1; }
.class-header-actions { display: flex; align-items: center; gap: 10px; }
.toggle-icon { color: #6c757d; transition: transform 0.3s ease; font-size: 14px; margin-right: 10px; order: -1; }
.class-header.expanded .toggle-icon { transform: rotate(180deg); }
.class-header.partially-selected { background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%); border-left: 4px solid #ffc107; }
.class-header.fully-selected { background: linear-gradient(135deg, #e8f5e8 0%, #d4edda 100%); border-left: 4px solid #28a745; }
.class-number-badge { background: #1976d2; color: white; padding: 4px 8px; border-radius: 12px; font-weight: bold; margin-right: 10px; min-width: 30px; text-align: center; display: flex; align-items: center; gap: 5px; }
.select-class-btn { background: #6c757d; color: white; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; border: none; cursor: pointer; }
.select-class-btn:hover { background: #5a6268; transform: scale(1.1); }
.class-header.fully-selected .select-class-btn { background: #28a745; }
.class-header.partially-selected .select-class-btn { background: #ffc107; color: #333; }
.subclass-item { padding: 10px 15px; border-bottom: 1px solid #f0f0f0; cursor: pointer; background-color: #fff; color: #666; margin-left: 20px; transition: all 0.3s ease; }
.subclass-item:hover { background-color: #f8f9fa; }
.subclass-item.selected { background-color: #e3f2fd !important; color: #1976d2 !important; border-left: 3px solid #1976d2; }